<!DOCTYPE html>
<html translate="no" lang="en">
  <head>
    <%- include('partials/head', {title:"Members-Only Dashboard"}) %>
  </head>
  <body class="font-[roboto]">
    <%- include('./partials/header') %> <%- include('./partials/modal') %> <%-
    include('./partials/background') %> <%- include('./partials/error') %> <%-
    include('./partials/success') %>
    <div class="w-full flex items-center justify-center flex-col relative">
      <div
        class="container flex sm:flex-row flex-col justify-center md:mt-8 mt-4 gap-8 sm:gap-16 md:gap-24"
      >
        <div
          class="flex flex-col border mb-8 order-2 sm:order-1 p-y bg-white rounded-sm p-4 w-72 max-w-80 overflow-hidden sm:w-auto self-center sm:self-auto"
        >
          <div
            class="text-stone-800 font-semibold text-lg flex justify-around sm:self-auto sm:gap-8"
          >
            <span>Latest Posts</span>
            <a href="" class="underline">View all posts</a>
          </div>
          <div class="p-2 flex flex-col gap-2" id="holder">
            <% if (locals.posts) { %> <% console.log(locals.posts) %> <% for(
            let i = 0; i < locals.posts.length; i++ ) { %> <%-
            include('./partials/latestItem', {activePost:
            {date:locals.getDate(locals.posts[i].timestamp),...roleDetails[locals.posts[i].role],...locals.posts[i]}})
            %> <% } %> <% } %>
          </div>
        </div>
        <div
          class="border p-4 bg-white rounded-sm w-72 md:w-60 lg:w-auto self-center sm:self-start order-1 sm:order-2"
        >
          <div class="font-bold text-xl" for="search">Search Post</div>
          <form action="/posts/search">
            <div class="flex items-center">
              <button
                class="border-2 rounded-l-lg border-r-0 p-0.5 border-gray-500"
              >
                <i class="fa-solid fa-magnifying-glass text-lg"></i>
              </button>
              <input
                class="focus:outline-none pl-1 border-2 p-0.5 border-gray-500 rounded-r-lg focus:border-teal-500"
                type="text"
                name="search"
                id="search"
                required
              />
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
